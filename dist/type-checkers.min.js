!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.TypeCheckers={})}(this,function(e){"use strict";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t){return e(t={exports:{}},t.exports),t.exports}var n=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.singleValueFactory=((e=null,t=(e=>e))=>{let r=e;return{getDefault:()=>e,get:()=>r,set:(n=e)=>{r=t(n)}}}),t.valuesMapFactory=((e=new Map,t=((e,t)=>t))=>{const r=new Map(e),n=()=>new Map(r),s=n();return{values:s,getDefault:n,copy:()=>new Map(s),delete:e=>s.delete(e),has:e=>s.has(e),set:(e,r)=>s.set(e,t(e,r)),get:e=>s.get(e)}}),t.valuesSetFactory=((e=new Set,t=(e=>e))=>{const r=new Set(e),n=()=>new Set(r),s=n();return{values:s,getDefault:n,get:()=>new Set(s),delete:e=>s.delete(e),has:e=>s.has(e),add:e=>s.add(t(e))}})});t(n);var s=n.singleValueFactory,o=n.valuesMapFactory,a=n.valuesSetFactory;const{get:c,set:u}=s(),{get:i,set:l}=s(!0,e=>!!e);var p=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=e=>{const t=Object.getPrototypeOf(e);return t&&"object"==typeof t?t.constructor:t||Object},n=e=>{if(null==e)return;const t=e.constructor;return"function"==typeof t&&e instanceof t?e.constructor:r(e)};t.getClassName=(e=>{if(!e)return"";const t=n(e);return t?t.name:""}),t.getParentClass=(e=>r(n(e))),t.getClass=n,t.default=n});t(p);p.getClassName,p.getParentClass;var h=p.getClass;const{get:d,add:f,has:g,delete:y}=a(),m=e=>g(h(e)),{get:v,add:w,has:P,delete:C}=a(["constructor","prototype","__proto__"]),{getDefault:b,set:O,get:k}=o([["wrapFunctionReturnValues",!0],["wrapFunctionArguments",!1],["wrapSetPropertyValues",!1],["ignorePrototypeMethods",!1]],(e,t)=>!!t),j=(e,t)=>{let r;return t&&(r=t[e]),void 0===r?k(e):r};var S=r(function(e,t){function r(e){if(!(this instanceof r))return new r(e);this.value=e}function n(){return this.value}Object.defineProperty(t,"__esModule",{value:!0}),r.prototype.toString=n,r.prototype.valueOf=n,r.prototype[Symbol.toPrimitive]=n;const s=(e,t)=>{const n=String(e)||"";return t instanceof r?`${n}${t}`:"symbol"==typeof t?`${n}[${String(t)}]`:String(parseInt(t,10))===String(t)?`${n}[${t}]`:/^[a-z_$][\w\d$_]*$/i.test(t)?n?`${n}.${t}`:t:`${n}["${t}"]`};class o{constructor(e){this.value=e?String(e):"",this.lastName=void 0}append(e){this.value=s(this.value,e),this.lastName=e}appendCustomValue(e){this.value=s(this.value,r(e)),this.lastName=e}clone(e){const t=new o(this.value);return void 0===e?t.lastName=this.lastName:t.append(e),t}getLastName(){return this.lastName}toString(){return this.value}valueOf(){return this.value}}t.createPathSequence=(e=>new o(e)),t.default=o});t(S);var _=S.createPathSequence,F=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=(e=>(t,r)=>Boolean(t&&e.call(t,r)))(Object.prototype.hasOwnProperty);t.hasOwn=r,t.default=r}),V=t(F);F.hasOwn;const M=e=>`@${String(e)}`;class N{constructor(e){this.cache=e?{...e.cache}:{}}store(e,t){const r=M(e);t?this.cache[r]=t:delete this.cache[r]}get(e){return this.cache[M(e)]}has(e){return!!this.cache[M(e)]}remove(e,t){return delete this.cache[M(t)]}copy({cache:e}){return Object.keys(e).forEach(t=>{V(this.cache,t)?this.cache[t].copy(e[t]):this.cache[t]=e[t]}),this}}const $=e=>new N(e),x=Symbol("type-checkers::info"),I=e=>e?e[x]:void 0,W=(e,t)=>{e&&t&&(e[x]=t)};class T{constructor(e,t=null,r=!0,n=_(),s=$()){this.checker=e,this.data=t,this.deep=r,this.names=n,this.children=s}getChild(e){return this.children.get(e)}storeChildFrom(e,t){const r=I(t);r&&this.children.store(e,r)}createChildWithNames(e,t,r=null){const n=new T(this.checker,this.checker.init(t,r),this.deep,e);return this.children.store(e.lastName,n),n}createChild(e,t,r=null){return this.createChildWithNames(this.names.clone(e),t,r)}copy({deep:e,checker:t,children:r,data:n,names:s}){return this.checker===t?(this.deep=this.deep||e,this.children.copy(r),this.data=t.mergeConfigs(this.data,n,s)):console.error("TypeChecked objects can be merged only if using exactly same instance of type checker."),this}}var D=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=e=>"function"==typeof e;t.isFunction=r,t.default=r}),A=t(D),E=(D.isFunction,r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const{isFunction:r}=D,n=e=>{const{apply:t,construct:n}=e;delete e.apply,delete e.construct;const s={...e,construct:n,apply:t};return t=>new Proxy(t,r(t)?s:e)};t.withProxy=n,t.default=n})),R=t(E);E.withProxy;const B=Symbol("type-checkers::target"),q=e=>"symbol"==typeof e,z=e=>Boolean(e&&e[B]),L=e=>(e=>{const t=typeof e;return Boolean(e)&&("function"===t||"object"===t)&&!m(e)})(e)&&!z(e),G=e=>(t,r)=>{const n=t[r];if(q(r)||P(r))return n;if(r===B)return t;const s=I(t),{names:o,data:a,checker:c}=s,u=o.clone(r);return c.getProperty&&c.getProperty(t,u,n,a),L(n)&&((e,t,r,n)=>!(A(n)&&!V(e,r))||j("ignorePrototypeMethods",t))(t,s,r,n)?((e,t,r,n)=>{const s=I(t),{deep:o}=s;if(o||A(n)){const{lastName:t}=r,o=s.getChild(t);return e(n,o||s.createChildWithNames(r,n))}return n})(e,t,u,n):n},H=(e,t)=>{let r=I(e);return r&&t&&r!==t?r.copy(t):r=t,e[x]=r,!0},J=e=>(t,r,n)=>{if(r===B)throw new Error(`"${B}" is a virtual property and cannot be set`);if(r===x)return H(t,n);if(q(r))return H(t,n);const s=I(t);return L(n)&&j("wrapSetPropertyValues",s)?((e,t,r,n)=>{const s=I(t),{names:o,checker:a,data:c}=s,u=s.getChild(r),i=u?u.names:o.clone(r);return a.setProperty&&a.setProperty(t,i,n,c),n=e(n,u||s.createChildWithNames(i,n)),t[r]=n,!0})(e,t,r,n):((e,t,r)=>{const{names:n,data:s,checker:o}=I(e);return o.setProperty&&o.setProperty(e,n.clone(t),r,s),e[t]=r,!0})(t,r,n)},K=(e,t,r,n)=>{if(!L(n))return n;const s=t.getChild(r);return e(n,s||t.createChild(r,n))},Q=(e,t,r)=>{if(j("wrapFunctionArguments",t)){const{length:n}=r;for(let s=0;s<n;s++)r[s]=K(e,t,String(s),r[s])}return r},U=(e,{checker:t=c(),deep:r,name:n,data:s,children:o,info:a=null}={})=>a||((e,t,r,n,s)=>new T(e,t,r,n,s))(t,t.init(e,s),r,_(n),o),X=(e,t=null)=>({get:(!t||t.get)&&G(e),set:(!t||t.set)&&J(e),apply:(!t||t.apply)&&(e=>(t,r,n)=>{const s=I(t),{names:o,data:a,checker:c}=s;c.arguments&&c.arguments(t,o,n,a,r),j("wrapFunctionArguments",s)&&(n=Q(e,s,n));let u=t.apply(r,n);return c.returnValue&&c.returnValue(t,o,u,a,r),j("wrapFunctionReturnValues",s)&&(u=K(e,s,"returnValue",u)),u})(e),construct:(!t||t.construct)&&(e=>(t,r)=>{const n=I(t),{names:s,data:o,checker:a}=n;a.arguments&&a.arguments(t,s,r,o),j("wrapFunctionArguments",n)&&(r=Q(e,n,r));let c=new t(...r);return a.returnValue&&a.returnValue(t,s,c,o),j("wrapFunctionReturnValues",n)&&(c=K(e,n,"returnValue",c)),c})(e),deleteProperty:(!t||t.deleteProperty)&&(()=>(e,t)=>{if(t===x)return delete e[t];if(t===B)return!1;if(q(t))return delete e[t];const r=I(e),{names:n,data:s,checker:o}=r;return o.deleteProperty(e,n.clone(t),s),delete e[t]})()}),Y=e=>{let t;const r=(e,r)=>(W(e,r),t(e)),n=X(r,e);return t=R(n),r},Z=(e,t=null,r=null)=>{if(!L(e)||!i())return e;return Y(r)(e,U(e,t||void 0))},ee=(e,t)=>{const{names:r,checker:n,data:s}=t;return Object.keys(e).forEach(o=>{const a=e[o],c=r.clone(o);if(n.getProperty&&n.getProperty(e,c,a,s),L(a)){let e=t.getChild(o);e||(e=t.createChildWithNames(c,a)),ee(a,e)}}),W(e,t),t},te=e=>e.find(z),re=(...e)=>{const t=te(e);if(!t)return Object.assign({},...e);const r=I(t);return Object.assign(Z({},{info:r}),...e)};re.options=((e,...t)=>re(Z({},e),...t));const ne=(e,...t)=>{if(z(e))return Object.assign(e,...t);const r=te(t);if(!r)return Object.assign(e,...t);const n=I(r);return Object.assign(Z(e,{info:n}),...t)};ne.options=((e,t,...r)=>ne(Z(t,e),...r)),e.getDefaultTypeChecker=c,e.setDefaultTypeChecker=u,e.isEnabled=i,e.setEnabled=l,e.getIgnoredClasses=d,e.ignoreClass=f,e.isClassIgnored=g,e.isValueOfIgnoredClass=m,e.stopIgnoringClass=y,e.getIgnoredProperties=v,e.ignoreProperty=w,e.isPropertyIgnored=P,e.stopIgnoringProperty=C,e.setWrapConfigValue=O,e.getWrapConfigValue=j,e.getTargetInfo=I,e.getTypeChecker=(e=>{if(e){const t=e[x];return t&&t.checker||void 0}}),e.getTypeCheckerData=(e=>{if(e){const t=e[x];return t&&t.data||void 0}}),e.removeTargetInfo=(e=>delete e[x]),e.wrap=Z,e.wrapDeep=((e,t,r=null)=>{if(!L(e)||"object"!=typeof e||!i())return e;const n=Y(r),s=U(e,t);return ee(e,s),n(e,s)}),e.isWrappable=L,e.isWrapped=z,e.unwrap=(e=>e&&e[B]||e),e.setWrapConfigTo=((e,t,r)=>{if(!z(e))return!1;const n=I(e);switch(t){case"wrapFunctionReturnValues":case"wrapFunctionArguments":case"wrapSetPropertyValues":case"ignorePrototypeMethods":return n[t]=!!r,!0;default:return!1}}),e.assign=ne,e.merge=re,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=type-checkers.min.js.map
